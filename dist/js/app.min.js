var SetIntervalMixin={componentWillMount:function(){this.intervals=[]},setInterval:function(){this.intervals.push(setInterval.apply(null,arguments))},componentWillUnmount:function(){this.intervals.map(clearInterval)}},App=React.createClass({displayName:"App",render:function(){return React.createElement("div",{className:"app"},React.createElement(PackageList,null))}}),PackageList=React.createClass({displayName:"PackageList",getInitialState:function(){return{packages:[]}},componentWillMount:function(){var a=this;$.get("packages.php",function(b){a.setState({packages:b})})},render:function(){return React.createElement("div",{className:"packages"},this.state.packages.map(function(a){return React.createElement(Package,{id:a.id,name:a.name})}))}}),Package=React.createClass({displayName:"Package",mixins:[SetIntervalMixin],getInitialState:function(){return{activities:[]}},componentWillMount:function(){this.update(),this.setInterval(this.update,5e3)},update:function(){var a=this;$.get("activities.php?package="+this.props.id,function(b){a.setState({activities:b})})},render:function(){return React.createElement("div",{className:"package"},this.state.activities.map(function(a){return React.createElement(Activity,{selected:0,limit:a.limit,count:a.count,name:a.name})}))}}),Activity=React.createClass({displayName:"Activity",render:function(){var a=this.props.selected?String.fromCharCode(59447):String.fromCharCode(59446),b="",c=this.props.limit-this.props.count;return b=0==this.props.limit?"Liukuva paikkamäärä, sisään vaan!":5>c?React.createElement("span",null,"Paikkoja jäljellä enää",React.createElement("b",null,c),"!"):React.createElement("span",null,"Vielä ",React.createElement("b",null,c)," paikkaa jäljellä!"),React.createElement("div",{className:"activity"},React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"toggle"},React.createElement("div",{className:"button"},a)),React.createElement("div",{className:"info"},React.createElement("div",{className:"name"},this.props.name),React.createElement("div",{className:"slots"},b))))}});React.render(React.createElement(App,null),$("#app")[0]);